<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX Testing</title>
  </head>
  <body>
    <script>
      async function fetchRequest(/* optional parameter */) {
        try {
          // Await the response of the fetch call
          const response = await fetch('https://api.sunrise-sunset.org/json');
          console.log(response.status); // Log the response status

          // Check if the response was not ok (i.e., status is not in the range of 200-299)
          if (!response.ok) {
            // Throw an error with the status text, which will be caught by the catch block
            throw new Error(`HTTP error! status: ${response.status}`);
          }

          // Await the JSON conversion of the response body
          const data = await response.json();
          console.log(data); // Log the parsed data
        } catch (error) {
          // Catch and log any errors that occur during the fetch operation
          console.error('Error:', error);
        }
      }

      // Call the function with the postal code
      fetchRequest(/* optional argument */);
    </script>
  </body>
</html>
